{% extends 'base.html' %}

{% block title %}
  Program | {{ block.super }}
{% endblock %}

{% block content %}

  {% with url_name=request.resolver_match.url_name proposal_urls="proposal_list,speaker_proposal_create,speaker_proposal_detail,speaker_proposal_update,speaker_proposal_submit,speaker_proposal_picture,event_proposal_create,event_proposal_detail,event_proposal_update,event_proposal_submit" %}

    <div class="row">
      <div class="d-flex flex-wrap justify-content-center mt-1">
        {% if camp.show_schedule %}
          <a href="{% url 'program:schedule_index' camp_slug=camp.slug %}" class="bornhack-sub-menu btn {% if url_name == "schedule_index" or urlyear %}btn-primary{% else %}btn-outline-secondary{% endif %}">Schedule</a>
        {% endif %}
        <a href="{% url 'program:event_index' camp_slug=camp.slug %}" class="bornhack-sub-menu btn {% if url_name == "event_index" %}btn-primary{% else %}btn-outline-secondary{% endif %}">Events</a>
        <a href="{% url 'program:speaker_index' camp_slug=camp.slug %}" class="bornhack-sub-menu btn {% if url_name == "speaker_index" %}btn-primary{% else %}btn-outline-secondary{% endif %}">Speakers</a>
        <a href="{% url 'program:call_for_participation' camp_slug=camp.slug %}" class="bornhack-sub-menu btn {% if url_name == "call_for_participation" %}btn-primary{% else %}btn-outline-secondary{% endif %}">Call for Participation</a>
        {% if request.user.is_authenticated %}
          {% if camp.call_for_participation_open %}
            <a href="{% url 'program:proposal_list' camp_slug=camp.slug %}" class="bornhack-sub-menu btn {% if url_name in proposal_urls %}btn-primary{% else %}btn-outline-secondary{% endif %}">Submit Proposal</a>
          {% else %}
            <a href="{% url 'program:proposal_list' camp_slug=camp.slug %}" class="bornhack-sub-menu btn {% if url_name in proposal_urls %}btn-primary{% else %}btn-outline-secondary{% endif %}">View Proposals</a>
          {% endif %}
        {% endif %}
      </div>
    </div>
    <p>
      {% block program_content %}
      {% endblock program_content %}

  {% endwith %}

{% endblock content %}
