{% extends 'base.html' %}
{% load staticfiles %}

{% block title %}
Revenues | {{ block.super }}
{% endblock %}

{% block extra_head %}
<script src="{% static "js/jquery.dataTables.min.js" %}"></script>
<link rel="stylesheet" href="{% static 'css/jquery.dataTables.min.css' %}">
{% endblock extra_head %}

<{% block content %}
<h3>Your {{ camp.title }} Revenues</h3>

{% if revenue_list %}
<table class="table table-hover">
  <thead>
  <tr>
    <th>Amount</th>
    <th>Description</th>
    <th>Responsible Team</th>
    <th>Approved</th>
    <th>Actions</th>
  </tr>
  </thead>
  <tbody>
    {% for revenue in revenue_list %}
    <tr>
      <td>{{ revenue.amount }} DKK</td>
      <td>{{ revenue.description }}</td>
      <td>{{ revenue.responsible_team.name }} Team</td>
      <td>{{ revenue.approval_status }}</td>
      <td>
        <a class="btn btn-primary" href="{% url 'economy:revenue_detail' camp_slug=camp.slug pk=revenue.uuid %}"><i class="fas fa-search"></i> Details</a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% else %}
<h4>No revenues found for BornHack 2018, you haven't submitted any yet!</h4>
{% endif %}

{% if perms.camps.revenue_create_permission %}
<a class="btn btn-primary" href="{% url 'economy:revenue_create' camp_slug=camp.slug %}"><i class="fas fa-plus"></i> Create Revenue</a>
{% else %}
<div class="alert alert-danger"><p class="lead"><span class="text-error">You don't have permission to add revenue. Please ask someone from the Economy team to add the permission if you need it.</p></div>
{% endif %}

{% endblock %}
